<!-- Main Homepage -->

    <!-- Header Component-->
    <app-header></app-header>
    <ngx-spinner size="medium" type="ball-atom"></ngx-spinner>


    <ng-container *ngIf="userLoggedIn">

        
        <mat-drawer-container class="" autosize>
            <mat-drawer #drawer class="sidebar-main-container" [style]="isExapnded ? 'width: 14%;': ''" mode="side" [opened]="collapseService.isOpen$ | async">
                
               
                <div class="nav-item" (click)="exapndCollapse()">
                    <span style="font-size: 22px; margin-left:8px">
                        <i class="user-img" class="fa fa-solid fa-bars"></i>
                    </span>
                </div>
                

                <div class="nav-item">
                    <span>
                        <img class="user-img" src="../../assets/images/img_avatar.png" alt="home">
                    </span>
                    <div *ngIf="isExapnded" class="user-name">
                        <div class="icon-description">
                            {{userName}}
                        </div>
                        <!-- <div >
                            Admin
                        </div> -->
                    </div>
                </div>
                <div class="nav-item">
                    <span>
                        <img class="user-img" src="../../../assets/icons/Dashboard.svg">
                    </span>
                    <div class="icon-description" *ngIf="isExapnded">
                        Dashboard
                    </div>
                </div>
                <!-- <div class="nav-item" (click)="exapndCollapse()" > -->
                <div class="nav-item" mat-button [matMenuTriggerFor]="securityMenu" >
                    <span class="nav-arrow" >
                        <img class="user-img" src="../../assets/icons/Security(1).svg">
                        <i *ngIf="!isExapnded" class="fa fa-caret-down" aria-hidden="true"></i>
                    </span>
                    <div class="icon-description" *ngIf="isExapnded">
                        Security
                        <i class="fa fa-caret-up" aria-hidden="true"></i>
                    </div>
                    <mat-menu #securityMenu="matMenu" yPosition="below" xPosition="after">
                
                        <button mat-menu-item [routerLink]="['security-view/recommendations']">
                            <div class="menu-width" >
                                Recommendations
                            </div>
                        </button>
                        <button mat-menu-item>
                            <div class="menu-width">
                                Reference Architecture
                            </div>
                        </button>
                        
                    </mat-menu>
                </div>
                <!-- If Security Expanded -->
                <!-- <div class="nav-item" *ngIf="isExapnded">
                   
                    <div class="icon-description sub-menu"[routerLink]="['security-view/recommendations']" >
                        Recommendations
                    </div>
                    
                </div> -->
                <!-- If Security Expanded Ends-->
                <div class="nav-item" mat-button [matMenuTriggerFor]="aboveMenu">
                    <span class="nav-arrow" >
                        <img class="user-img" src="../../assets/icons/Profile(1).svg">
                        <i *ngIf="!isExapnded" class="fa fa-caret-right" aria-hidden="true"></i>
                    </span>
                   
                    <div  class="icon-description" *ngIf="isExapnded">
                        Profile
                        <i class="fa fa-caret-right" aria-hidden="true"></i>
                    </div>
                       
                        <mat-menu #aboveMenu="matMenu" yPosition="below" xPosition="after">
                
                            <button mat-menu-item [routerLink]="['user-profile/quotation-history']">
                                <div class="menu-width">
                                    Quotation History
                                </div>
                            </button>
                            <button mat-menu-item (click)="logout()">
                                <div class="menu-width">
                                    Logout
                                </div>
                            </button>
                            
                        </mat-menu>
                </div>

            </mat-drawer>
        
            <div class="example-sidenav-content">
            <app-toolbar></app-toolbar>
            <router-outlet></router-outlet>
            </div>
        
        </mat-drawer-container>
    </ng-container>

    <!-- Container If not Logged In -->

    <ng-container *ngIf="!userLoggedIn">


        <!-- Toolbar Component-->
        <app-toolbar></app-toolbar>

        <!-- Other Routes-->
        <router-outlet></router-outlet>


    </ng-container>




    <app-footer></app-footer>

<div class="compare-products-container">
    <div>
        <p-table [columns]="scrollableCols" [value]="comparisonCategories" [scrollable]="true" scrollHeight="700px" frozenWidth="200px">
            <!-- <ng-template pTemplate="colgroup" let-columns>
              <colgroup>
                <col *ngFor="let col of columns" style="width:200px">
                <col style="width:200px">
                <col style="width:200px">
                <col style="width:200px">
                <col style="width:200px">
              </colgroup>
            </ng-template> -->
            <ng-template pTemplate="header" let-columns>
              <tr>
                <!-- <th *ngFor="let col of columns"> -->
                <th class="comparison-category-header">
                        
                </th>
                <ng-container *ngFor="let item of allProducts; let i = index">
                    <th *ngIf="item.properties._id ; else emptyFlyer">
                        <header-card-flyer [product]="item"></header-card-flyer>
                        <div class="button-holder">
                            <div class="td-column">
                                <button class="remove-btn" (click)="removeItem(item)">
                                    Remove 
                                </button>
                                <button class="buy-btn" (click)="requestQuote(item)">
                                    Buy Now
                                </button>
                              </div>
                        </div>
                    </th>
                    <ng-template #emptyFlyer>
                        <th>
                            <empty-header-card-flyer [index] = "i" (selectedProductItem)="selectedProductItem($event)"></empty-header-card-flyer>
                            <div class="add">
                                <button class="add-btn" (click)="addProductModal(i)">
                                    Add Product
                                </button>
                            </div>
                        </th>
                    </ng-template>
                </ng-container>


                
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-rowData let-columns="columns">

                <tr *ngIf="(rowData.header === 'features')">
                        <td class="product-heading">
                            {{rowData.headerName}}
                        </td>
                        <td *ngFor="let item of allProducts" class="features-align">
                            
                            <div class="feature-item-container" *ngIf="item.properties[rowData.header]">
                                <div class="tick-container"   *ngFor="let features of item.properties[rowData.header]">
    
                                    <div class="tick-symbol">
                                        <img src="../../../../assets/icons/BlueTickIcon.svg">
                                    </div>
                                    <span class="feature-text-left-align ">{{features.name}}</span>
                                </div>        
                            </div>  
                        </td>
                    
                </tr>
                <tr *ngIf="(rowData.header === 'includedProducts')">
                    <td class="product-heading">
                        {{rowData.headerName}}
                    </td>
                    <td *ngFor="let item of allProducts" class="features-align">
                        
                        <div class="feature-item-container" *ngIf="item.properties[rowData.header]">
                            <div class="tick-container"   *ngFor="let features of item.properties[rowData.header]">

                                <div class="tick-symbol">
                                    <!-- <img src="../../../../assets/icons/BlueTickIcon.svg"> -->
                                    -
                                </div>
                                <span class="feature-text-left-align">{{features.name}}</span>
                            </div>        
                        </div>  
                    </td>
                
                </tr>
                <!-- <ng-template #otherCat> -->
                    <tr *ngIf="(rowData.header !== 'features') && (rowData.header !== 'includedProducts')">
                        <td  class="product-heading">
                            {{rowData.headerName}}
                        </td>
                        <td *ngFor="let item of allProducts" class="feature-text">
                            <ng-container *ngIf="(rowData.header === 'price') ; else otherVal">
                                <ng-container *ngIf="item.properties[rowData.header] === '-' ; else presentData">
                                    -
                                </ng-container>
                                <ng-template #presentData>
                                    {{item.properties[rowData.header]}} / {{item.properties['subscription']}}
                                </ng-template>
                                
                            </ng-container>
                            <ng-template #otherVal>
                                <span class="feature-text-align">
                                    {{item.properties[rowData.header]}}
                                </span>
                            </ng-template>
                            
                        </td>
                    </tr>
                <!-- </ng-template> -->
                
            </ng-template>
          </p-table>
    </div>
</div>

